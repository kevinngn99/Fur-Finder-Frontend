#:import utils kivy.utils
#:import MDDropdownMenu kivymd.uix.menu
#:import ScreenManager kivy.uix.screenmanager
#:import Screen kivy.uix.screenmanager
#import MDFileManager from kivymd.uix.filemanager

<ReportView>:
    name_button: name
    gender_button: gender
    size_button: size_item
    age_button: age
    state_button: state_item
    zip_button: zip
    location_button: location
    breed_button: breed
    calendar_button: calendar
    BoxLayout:
        orientation: 'vertical'
        AnchorLayout:
            size_hint: 1, 0.1
            Label:
                text: "Report A Pet"
                color: utils.get_color_from_hex('#150470')
                text_size: self.size
                font_size: sp(24)
                font_name: 'assets/Manrope-Bold.ttf'
                halign: "left"
                valign: "top"
        ScrollView:
            size_hint: 1, 0.9
            GridLayout:
                cols: 1
                size_hint: 1, None
                height: self.minimum_height
                spacing: dp(15)
                padding: dp(15), dp(15), dp(15), dp(15)
                BoxLayout:
                    size_hint: 1, None,
                    height: self.minimum_height
                    orientation: 'horizontal'
                    cols: 2
                    spacing: dp(10)
                    AnchorLayout:
                        size_hint: 0.5, None
                        height: dp(50)
                        padding: dp(10), dp(0), dp(10), dp(0)
                        MDTextField:
                            id: name
                            hint_text: "Pet Name"
                            mode: "rectangle"
                            size_hint: 1, 1
                    MDRectangleFlatIconButton:
                        id: gender
                        icon: "chevron-down"
                        size_hint: 0.5, None
                        height: dp(41)
                        text: "Gender"
                        on_release:
                            root.gender_menu.check_position_caller(None, None, None)
                            root.gender_menu.open()
                BoxLayout:
                    size_hint: 1, None,
                    height: self.minimum_height
                    orientation: 'horizontal'
                    cols: 2
                    spacing: dp(10)
                    MDRectangleFlatIconButton:
                        id: age
                        icon: "chevron-down"
                        size_hint: 0.5, None
                        height: dp(41)
                        text: 'Age'
                        on_release:
                            root.age_menu.check_position_caller(None,None,None)
                            root.age_menu.open()
                    AnchorLayout:
                        size_hint: 0.5, None
                        height: dp(50)
                        padding: dp(10), dp(0), dp(10), dp(0)
                        MDTextField:
                            id: breed
                            icon: "chevron-down"
                            size_hint: 1, 1
                            hint_text: 'Breed'
                            mode: "rectangle"
                BoxLayout:
                    size_hint: 1, None,
                    height: self.minimum_height
                    orientation: 'horizontal'
                    cols: 2
                    spacing: dp(10)
                    MDRectangleFlatIconButton:
                        id: size_item
                        icon: "chevron-down"
                        size_hint: 0.5, None
                        height: dp(41)
                        text: 'Size'
                        on_release:
                            root.size_menu.check_position_caller(None, None, None)
                            root.size_menu.open()
                    MDRectangleFlatIconButton:
                        id: calendar
                        icon: "calendar"
                        text: "Date Missing"
                        size_hint: 0.5, None
                        height: dp(41)
                        on_release:
                            root.date_picker()
                BoxLayout:
                    size_hint: 1, None,
                    height: self.minimum_height
                    orientation: 'horizontal'
                    cols: 2
                    spacing: dp(10)
                    MDRectangleFlatIconButton:
                        id: state_item
                        icon: "chevron-down"
                        size_hint: 0.5, None
                        height: dp(41)
                        text: 'State'
                        on_release:
                            root.state_menu.check_position_caller(None,None,None)
                            root.state_menu.open()
                    AnchorLayout:
                        size_hint: 0.5, None
                        height: dp(50)
                        padding: dp(10), dp(0), dp(10), dp(0)
                        MDTextField:
                            id: zip
                            size_hint: 1, 1
                            hint_text: 'Zip'
                            mode: "rectangle"
                BoxLayout:
                    size_hint: 1, None,
                    height: self.minimum_height
                    orientation: 'horizontal'
                    cols: 2
                    spacing: dp(10)
                    AnchorLayout:
                        size_hint: 0.5, None
                        height: dp(50)
                        padding: dp(10), dp(0), dp(10), dp(0)
                        MDTextField:
                            id: location
                            hint_text: "Location"
                            mode: "rectangle"
                            icon_right: "map-marker"
                            icon_right_color: app.theme_cls.primary_color
                            size_hint: 1, 1
                    MDRaisedButton:
                        size_hint: 0.5, None
                        height: dp(41)
                        md_bg_color: app.theme_cls.primary_color
                        text: 'Report Pet'
                        font_size: sp(20)
                        font_name: 'assets/Inter-Regular.ttf'
                        on_release:
                            root.post_report()
                BoxLayout:
                    size_hint: 1, None,
                    height: self.minimum_height
                    orientation: 'horizontal'
                    cols: 3
                    spacing: dp(10)

                    SmartTileWithLabel:
                        size_hint: None, None
                        size: dp(90), dp(90)
                        source: "images/aussie.jpg"
                        text: "[size=12]Aussie[/size]"

                    SmartTileWithLabel:
                        size_hint: None, None
                        size: dp(90), dp(90)
                        source: "images/corgi.jpg"
                        text: "[size=12]Corgi[/size]\n[size=10]Add more info here[/size]"
                        tile_text_color: app.theme_cls.accent_color

                    MDRaisedButton:
                        text: "Upload an Image"
                        size_hint: None, None
                        size: dp(90), dp(90)
                        on_release:
                            root.file_manager_open()
